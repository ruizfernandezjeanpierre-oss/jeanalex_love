<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>El Reino de Naomi ðŸ‘‘âœ¨</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body{
margin:0;
overflow:hidden;
background:linear-gradient(to bottom,#0f172a,#020617);
font-family:monospace;
}
canvas{
display:block;
margin:0 auto;
image-rendering:pixelated;
}
#startScreen{
position:fixed;
inset:0;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
background:radial-gradient(circle,#1e3a8a,#000);
color:white;
z-index:10;
}
button{
background:#ec4899;
padding:12px 24px;
border-radius:30px;
}
</style>
</head>
<body>

<div id="startScreen">
<h1 class="text-4xl mb-4">ðŸ‘‘ El Reino de Naomi ðŸ‘‘</h1>
<p class="mb-6">Una aventura para mi princesa ðŸ’–</p>
<button onclick="startGame()">Comenzar</button>
</div>

<canvas id="game"></canvas>

<script>

const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

function resize(){
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
}
resize();
window.addEventListener("resize",resize);

/* ðŸ‘‘ Sprite FUNCIONAL */
const sprite=new Image();
sprite.src="https://raw.githubusercontent.com/jlongster/canvas-game-bootstrap/master/assets/player.png";

let frame=0;
let frameTimer=0;

let player={
x:200,
y:200,
size:64,
speed:4
};

let camera={x:0,y:0};

let keys={};
document.addEventListener("keydown",e=>keys[e.key]=true);
document.addEventListener("keyup",e=>keys[e.key]=false);

let enemies=[
{x:600,y:300},
{x:900,y:500}
];

let castle={x:1400,y:400};

function startGame(){
document.getElementById("startScreen").style.display="none";
requestAnimationFrame(gameLoop);
}

function gameLoop(){
update();
draw();
requestAnimationFrame(gameLoop);
}

function update(){

if(keys["ArrowLeft"])player.x-=player.speed;
if(keys["ArrowRight"])player.x+=player.speed;
if(keys["ArrowUp"])player.y-=player.speed;
if(keys["ArrowDown"])player.y+=player.speed;

/* CÃ¡mara centrada */
camera.x=player.x-canvas.width/2;
camera.y=player.y-canvas.height/2;

/* AnimaciÃ³n */
if(keys["ArrowLeft"]||keys["ArrowRight"]||keys["ArrowUp"]||keys["ArrowDown"]){
frameTimer++;
if(frameTimer>10){
frame=(frame+1)%4;
frameTimer=0;
}
}

/* ColisiÃ³n enemigos */
enemies.forEach(e=>{
if(Math.abs(player.x-e.x)<40 && Math.abs(player.y-e.y)<40){
alert("Tu luz es mÃ¡s fuerte que cualquier sombra ðŸ’–");
}
});

/* Castillo */
if(Math.abs(player.x-castle.x)<60 && Math.abs(player.y-castle.y)<60){
alert("Naomiâ€¦ Â¿Te casarÃ­as conmigo? ðŸ’");
}

}

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);

/* Fondo estrellas */
for(let i=0;i<100;i++){
ctx.fillStyle="white";
ctx.fillRect(Math.random()*canvas.width,Math.random()*canvas.height,1,1);
}

/* Player */
if(sprite.complete){
ctx.drawImage(sprite,
frame*32,0,32,32,
player.x-camera.x,
player.y-camera.y,
player.size,
player.size);
}else{
ctx.fillStyle="pink";
ctx.fillRect(player.x-camera.x,player.y-camera.y,player.size,player.size);
}

/* Enemigos */
ctx.fillStyle="black";
enemies.forEach(e=>{
ctx.fillRect(e.x-camera.x,e.y-camera.y,40,40);
});

/* Castillo */
ctx.fillStyle="purple";
ctx.fillRect(castle.x-camera.x,castle.y-camera.y,80,80);

}

</script>
</body>
</html>
